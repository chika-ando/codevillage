<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScriptでオセロゲームを作る</title>
   <style type="text/css">
        td {
        border: 1px solid black;
        width: 50px;
        height: 50px;
        background-color: forestgreen;
        text-align: center;
        vertical-align: middle;
        table-layout: fixed;
        padding: 1px 1px 1px 1px;
        font-size: 33px;
        }
    </style>

</head>

<body>

<!- 盤面 ->
<table></table>
<!- ターンの表示 ->
<p></p>
<!- 初期化ボタン ->
<button type="button" onclick="ban_init()">やり直し</button>

<script>
    //初期変数
    let turn = 0 //ターン　1:黒 ,-1:白
    //要素を取得
    const field = document.querySelector('table');
    const turn_msg = document.querySelector('p');
    const button = document.querySelector('button');

    //盤面の状況を二次元配列で定義
    const ban_ar = new Array(8);
    for(let i = 0; i<ban_ar.length; i++){
        ban_ar[i] = new Array(8);
    };
    //8x8マスを作成
    for(let x = 0; x<8; x++) {
        const tr = document.createElement('tr');
        field.appendChild(tr);
        for(let y = 0; y<8; y++) {
            const td = document.createElement('td');
            tr.appendChild(td);
        }
    }
    //真ん中に○●の石を配置
    // const tr = document.querySelector('tr');
    // const td = document.querySelector('td');
    ban_ar[3][3] = -1;
    ban_ar[3][4] = 1;
    ban_ar[4][3] = 1;
    ban_ar[4][4] = -1;
    ban_set();
    
    function ban_set() {
        let stone = "";
        for (let x = 0; x < 8; x++) {
            for (let y = 0; y < 8; y++) {
                switch(ban_ar[x][y]) {
                    case undefined:
                    stone = "";
                    break;
                    case -1:
                    stone = "○";
                    break;
                    case 1:
                    stone = "●";
                    break;
                }
                field.rows[x].cells[y].textContent = stone;    
            }
        }
        return true;
    };

    
    // ターンの変更する処理
    function cheng_turn() {
        if (turn === 0) {
            turn++
            turn_msg.textContent = "黒の番です。"
        }
        //ターンを変更
        turn * -1
    }
    cheng_turn();
    //ターンの表示
    switch(turn) {
        case 1:
        turn_msg.textContent = "黒の番です。"
        break;
        case -1:
            turn_msg.textContent = "白の番です。"
            break;
    }

    //クリックした時に実行されるイベント
    for (let x = 0; x < 8; x++) {
            for (let y = 0; y < 8; y++){
                let select_cell = ban_ar[x][y];
                select_cell.onclick = function(){
                    
                }
            }
            
    //指定したセルから指定した方向へreverseを行う
    function line_reverse (row_index, cell_index, add_x, add_y) {
        //最初に今の盤状況を退避する。
        

    //盤面を初期化
    button.addEventListener('click', (event) => {
        for (let x = 0; x < 8; x++) {
            for (let y = 0; y < 8; y++) {
                ban_ar[x][y] = 0
            }
        }
    });
    }

</script>
</body>
</html>